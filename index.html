<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Green Dabba ‚Äì Premium Meal Subscription (Interactive Mobile Demo)</title>

  <!-- Allowed external deps: Google Fonts + Font Awesome -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>

<style>
:root{
  /* üíú REAL LAVENDER THEME */
  --off:#E4A0F7;        /* container lavender */
  --bg:#F8F2FF;         /* page background */
  --forest:#2E5C4B;
  --beige:#F5EDE0;
  --brown:#8B6B4D;

  --line:#E9D8FD;       /* lavender borders */
  --ink:#2D1B4E;        /* dark lavender text */
  --muted:#6B5B95;      /* muted lavender */

  /* ‚≠ê Layout variables */
  --rTop: 28px;
  --rBottom: 28px;
  --shadow: 0 30px 60px rgba(124,58,237,.18);
  --shadowSoft: 0 10px 25px rgba(124,58,237,.12);
  --navH: 82px;
  --pad: 18px;
  --ease: cubic-bezier(.2,.7,.2,1);
}


@keyframes shine {
  0%   { background-position: 0% }
  100% { background-position: 200% }
}

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--ink);
      display:grid;
      place-items:center;
      padding: 26px 14px;
    }

    /* Device shell */
    .device{
      width: 400px;
      max-width: calc(100vw - 28px);
      height: 840px;
      background: var(--off);
      border-radius: var(--rTop) var(--rTop) var(--rBottom) var(--rBottom);
      box-shadow: var(--shadow);
      overflow:hidden;
      position: relative;
      border: 1px solid rgba(0,0,0,.06);
    }
    .device:before{
      content:"";
      position:absolute; inset:0;
      border-radius: inherit;
      pointer-events:none;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.35);
    }

    /* Status bar */
    .statusbar{
      height: 46px;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      padding: 10px 18px 8px;
      font-weight: 700;
      letter-spacing:.2px;
      color: rgba(24,49,39,.92);
      user-select:none;
      background: linear-gradient(180deg, rgba(245,237,224,.85), rgba(250,247,242,.85));
      border-bottom: 1px solid rgba(0,0,0,.04);
      backdrop-filter: blur(8px);
    }
    .sb-right{display:flex; align-items:center; gap:10px; font-size: 13px}
    .sb-right i{opacity:.9}
    .time{font-size: 13px}

    /* Page container */
    .page-container{
      position:absolute;
      left:0; right:0;
      top:46px;
      bottom: var(--navH);
      overflow:hidden;
      background:
        radial-gradient(900px 700px at 10% 0%, rgba(46,92,75,.09), transparent 55%),
        radial-gradient(900px 700px at 90% 10%, rgba(139,107,77,.10), transparent 50%),
        var(--off);
    }

    .page{
      position:absolute;
      inset:0;
      overflow-y:auto;
      padding: var(--pad);
      padding-bottom: calc(var(--pad) + 16px);
      opacity:0;
      pointer-events:none;
      transform: translateX(14px);
      transition: opacity .28s var(--ease), transform .28s var(--ease);
      -webkit-overflow-scrolling: touch;
    }
    .page.active{
      opacity:1;
      pointer-events:auto;
      transform: translateX(0);
    }

    .toprow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      margin-bottom: 14px;
    }
    .brand-mini{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight: 800;
      letter-spacing:.2px;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(245,237,224,.65);
      color: rgba(24,49,39,.92);
      font-size: 12px;
      font-weight: 700;
      box-shadow: var(--shadowSoft);
      white-space: nowrap;
    }
    .badge.leaf{
      border-color: rgba(46,92,75,.18);
      background: rgba(46,92,75,.08);
      color: var(--forest);
    }

    h1,h2,h3{margin:0}
    .h1{
      font-size: 26px;
      line-height: 1.15;
      font-weight: 800;
      letter-spacing: -.2px;
      color: rgba(24,49,39,.98);
    }
    .h2{
      font-size: 18px;
      line-height: 1.2;
      font-weight: 800;
      letter-spacing: -.15px;
      color: rgba(24,49,39,.98);
    }
    .sub{
      color: rgba(77,107,94,.95);
      font-size: 13px;
      line-height: 1.55;
      font-weight: 500;
      margin-top: 6px;
    }
    .kicker{
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: .7px;
      color: rgba(77,107,94,.95);
      font-weight: 800;
      margin-bottom: 8px;
    }

    /* Buttons */
    .btn{
      border: none;
      outline: none;
      cursor: pointer;
      border-radius: 16px;
      padding: 12px 14px;
      font-weight: 800;
      font-size: 14px;
      letter-spacing: .1px;
      transition: transform .10s var(--ease), filter .10s var(--ease), background .12s var(--ease);
      user-select:none;
    }
    .btn:active{transform: scale(.98)}
    .btn.primary{
      background: linear-gradient(135deg, var(--forest), #244C3D);
      color: white;
      box-shadow: 0 14px 30px rgba(46,92,75,.22);
    }
    .btn.primary:active{transform: scale(.985)}
    .btn.secondary{
      background: rgba(245,237,224,.85);
      border: 1px solid var(--line);
      color: rgba(24,49,39,.92);
      box-shadow: var(--shadowSoft);
    }
    .btn.ghost{
      background: transparent;
      border: 1px solid rgba(46,92,75,.22);
      color: var(--forest);
    }
    .btn.small{padding: 10px 12px; border-radius: 14px; font-size: 13px}

    /* Inputs */
    .field{display:grid; gap:8px; margin-top: 14px}
    .label{font-size: 12px; font-weight: 800; color: rgba(77,107,94,.95)}
    .input{
      width:100%;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.72);
      font-weight: 600;
      color: rgba(24,49,39,.92);
      outline: none;
      box-shadow: var(--shadowSoft);
    }
    .input:focus{
      border-color: rgba(46,92,75,.30);
      box-shadow: 0 0 0 4px rgba(46,92,75,.12), var(--shadowSoft);
    }

    /* Cards */
    .card{
      border: 1px solid var(--line);
      border-radius: 22px;
      background: rgba(255,255,255,.72);
      box-shadow: var(--shadowSoft);
      overflow:hidden;
      transform: translateY(0);
      transition: transform .12s var(--ease), filter .12s var(--ease);
    }
    .card:active{transform: translateY(1px) scale(.995)}
    .card.pad{padding: 14px}
    .card.soft{
      background: rgba(245,237,224,.62);
    }

    .row{display:flex; align-items:center; gap:12px}
    .sp{flex:1}

    /* Images */
    .img{
      width: 100%;
      height: 190px;
      border-radius: 22px;
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.04);
      box-shadow: var(--shadowSoft);
      background: #eee;
    }
    .img img{width:100%; height:100%; object-fit:cover; display:block}
    .thumb{
      width: 74px;
      height: 74px;
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.04);
      box-shadow: var(--shadowSoft);
      flex:none;
    }
    .thumb img{width:100%; height:100%; object-fit:cover; display:block}

    /* Tags */
    .tags{display:flex; flex-wrap:wrap; gap:8px; margin-top: 10px}
    .tag{
      display:inline-flex; align-items:center; gap:7px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(245,237,224,.60);
      font-size: 12px;
      font-weight: 800;
      color: rgba(24,49,39,.88);
      white-space: nowrap;
    }
    .tag.good{background: rgba(46,92,75,.10); border-color: rgba(46,92,75,.18); color: var(--forest)}
    .tag.warn{background: rgba(139,107,77,.11); border-color: rgba(139,107,77,.22); color: var(--brown)}
    .tag.lock{background: rgba(0,0,0,.06); border-color: rgba(0,0,0,.12); color: rgba(0,0,0,.55)}
    .tag.dark{background: rgba(24,49,39,.06); border-color: rgba(24,49,39,.14); color: rgba(24,49,39,.74)}

    .divider{height:1px; background: var(--line); margin: 14px 0}

    /* Bottom nav */
    .bottom-nav{
      position:absolute;
      left:0; right:0; bottom:0;
      height: var(--navH);
      background: rgba(250,247,242,.92);
      border-top: 1px solid rgba(0,0,0,.06);
      padding: 10px 16px 14px;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 6px;
      backdrop-filter: blur(10px);
    }
    .bottom-nav.hidden{display:none}
    .navbtn{
      flex:1;
      border:none;
      background: transparent;
      cursor:pointer;
      border-radius: 16px;
      padding: 10px 8px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:6px;
      font-size: 11px;
      font-weight: 800;
      color: rgba(77,107,94,.95);
      transition: transform .10s var(--ease), background .12s var(--ease);
      user-select:none;
    }
    .navbtn i{font-size: 18px}
    .navbtn:active{transform: scale(.98)}
    .navbtn.active{
      color: var(--forest);
      background: rgba(46,92,75,.10);
      border: 1px solid rgba(46,92,75,.14);
    }

    /* Toast */
    .toast{
      position:absolute;
      left:50%;
      transform: translateX(-50%);
      bottom: calc(var(--navH) + 14px);
      background: rgba(24,49,39,.92);
      color: white;
      padding: 10px 12px;
      border-radius: 16px;
      font-size: 13px;
      font-weight: 700;
      box-shadow: 0 16px 40px rgba(0,0,0,.18);
      opacity:0;
      pointer-events:none;
      transition: opacity .18s var(--ease), transform .18s var(--ease);
      width: min(340px, calc(100% - 40px));
      text-align:center;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-2px);
    }

    /* Pills */
    .pillrow{display:flex; flex-wrap:wrap; gap:10px; margin-top: 10px}
    .pill{
      border: 1px solid var(--line);
      background: rgba(255,255,255,.70);
      color: rgba(24,49,39,.90);
      padding: 10px 12px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
      transition: transform .10s var(--ease), background .12s var(--ease), border-color .12s var(--ease);
      box-shadow: var(--shadowSoft);
    }
    .pill:active{transform: scale(.985)}
    .pill.on{
      border-color: rgba(46,92,75,.26);
      background: rgba(46,92,75,.10);
      color: var(--forest);
    }

    /* Tabs */
    .tabs{display:flex; gap:10px; margin: 8px 0 14px}
    .tab{
      flex:1;
      text-align:center;
      padding: 10px 10px;
      border-radius: 16px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.72);
      font-weight: 900;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
      box-shadow: var(--shadowSoft);
      transition: transform .10s var(--ease), background .12s var(--ease), border-color .12s var(--ease);
    }
    .tab:active{transform: scale(.985)}
    .tab.active{
      border-color: rgba(46,92,75,.26);
      background: rgba(46,92,75,.10);
      color: var(--forest);
    }

    /* Plans */
    .plan{
      border: 1px solid var(--line);
      border-radius: 22px;
      padding: 14px;
      background: rgba(255,255,255,.72);
      box-shadow: var(--shadowSoft);
      cursor:pointer;
      user-select:none;
      transition: transform .12s var(--ease), border-color .12s var(--ease), filter .12s var(--ease);
    }
    .plan:active{transform: translateY(1px) scale(.995)}
    .plan.selected{
      border-color: rgba(46,92,75,.30);
      box-shadow: 0 6px 0 rgba(0,0,0,0.02), 0 0 0 4px rgba(46,92,75,.12);
    }
    .planhead{display:flex; align-items:flex-start; gap:12px}
    .price{
      font-size: 20px;
      font-weight: 900;
      color: var(--forest);
      letter-spacing: -.1px;
    }
    .mini{
      font-size: 12px;
      color: rgba(77,107,94,.95);
      font-weight: 600;
      margin-top: 2px;
      line-height: 1.4;
    }

    /* Locked premium */
    .locked{
      position: relative;
      filter: grayscale(1);
      opacity: .55;
    }
    .locked:after{
      content:"üîí Upgrade to unlock";
      position:absolute;
      left: 14px;
      bottom: 14px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(0,0,0,.55);
      color:white;
      font-weight: 900;
      font-size: 12px;
      letter-spacing:.1px;
    }

    /* Customize panel */
    .slidepanel{
      overflow:hidden;
      max-height:0;
      opacity:0;
      transform: translateY(-6px);
      transition: max-height .35s var(--ease), opacity .28s var(--ease), transform .28s var(--ease);
    }
    .slidepanel.open{
      max-height: 420px;
      opacity:1;
      transform: translateY(0);
    }

    /* Cooking micro-loader */
    .cookline{
      display:flex; align-items:center; gap:10px;
      padding: 10px 12px;
      border-radius: 18px;
      border: 1px solid rgba(46,92,75,.16);
      background: rgba(46,92,75,.08);
      color: var(--forest);
      font-weight: 800;
      font-size: 13px;
      box-shadow: var(--shadowSoft);
    }
    .dots{display:inline-flex; gap:4px; margin-left: 2px;}
    .dot{
      width: 5px; height: 5px;
      border-radius: 999px;
      background: rgba(46,92,75,.95);
      opacity:.35;
      animation: pulse 1.1s infinite;
    }
    .dot:nth-child(2){animation-delay:.18s}
    .dot:nth-child(3){animation-delay:.36s}
    @keyframes pulse{
      0%,100%{transform: translateY(0); opacity:.35}
      40%{transform: translateY(-3px); opacity:.95}
    }

    /* Map simulation */
    .map{
      height: 210px;
      border-radius: 22px;
      border: 1px solid rgba(0,0,0,.05);
      background:
        radial-gradient(140px 110px at 20% 40%, rgba(46,92,75,.18), transparent 60%),
        radial-gradient(180px 130px at 75% 35%, rgba(139,107,77,.14), transparent 62%),
        repeating-linear-gradient(45deg, rgba(0,0,0,.04) 0 10px, transparent 10px 20px),
        rgba(255,255,255,.60);
      position: relative;
      overflow:hidden;
      box-shadow: var(--shadowSoft);
    }
    .pin{
      position:absolute;
      width: 12px; height: 12px;
      border-radius: 999px;
      background: var(--forest);
      box-shadow: 0 0 0 7px rgba(46,92,75,.14);
    }
    .pin.rider{left: 34%; top: 58%}
    .pin.you{right: 20%; top: 40%; background: var(--brown); box-shadow: 0 0 0 7px rgba(139,107,77,.15)}
    .route{
      position:absolute;
      left: 34%; top: 58%;
      width: 46%;
      height: 2px;
      background: rgba(24,49,39,.16);
      transform: rotate(-18deg);
      transform-origin: left center;
    }
    .route > span{
      display:block;
      height: 100%;
      width: 42%;
      background: var(--forest);
      border-radius: 2px;
      animation: route 1.6s infinite alternate var(--ease);
    }
    @keyframes route{to{width: 78%}}

    /* Utility */
    .stack{display:grid; gap:12px}
    .muted{color: rgba(77,107,94,.95)}
    .tiny{font-size: 12px; line-height:1.5}

    @media (prefers-reduced-motion: reduce){
      .page, .slidepanel, .dot, .route > span{transition:none !important; animation:none !important}
    }
  </style>
</head>

<body>
  <div class="device" id="device">
    <div class="statusbar">
      <div class="time">9:41</div>
      <div class="sb-right">
        <i class="fa-solid fa-signal"></i>
        <i class="fa-solid fa-wifi"></i>
        <i class="fa-solid fa-battery-three-quarters"></i>
      </div>
    </div>

    <div class="page-container" id="pages">

      <!-- 1) ONBOARDING -->
      <div class="page active" id="page-onboarding">
        <div class="toprow">
          <div class="brand-mini">
            <span style="width:34px;height:34px;border-radius:14px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18);">
              <i class="fa-solid fa-leaf" style="color:var(--forest)"></i>
            </span>
            <div style="display:flex;flex-direction:column;line-height:1.05">
              <span style="font-size:14px;font-weight:900;letter-spacing:.2px;">GREEN DABBA</span>
              <span style="font-size:11px;font-weight:700;color:rgba(77,107,94,.95)">Premium meal subscription</span>
            </div>
          </div>
          <span class="badge leaf"><i class="fa-solid fa-recycle"></i> Eco-first</span>
        </div>

        <div class="img">
          <img alt="Steel tiffin" src="https://images.unsplash.com/photo-1547592180-85f173990554?auto=format&fit=crop&w=1200&q=80">
        </div>

        <div style="margin-top:16px">
          <div class="h1">Fresh. Hygienic. Sustainable.</div>
          <div class="sub">
            Premium daily meals delivered in reusable steel dabbas‚Äîbuilt for routine, not impulse.
          </div>
        </div>

        <div class="divider"></div>

        <div class="card pad soft">
          <div class="row">
            <div style="width:40px;height:40px;border-radius:16px;background:rgba(46,92,75,.10);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18)">
              <i class="fa-solid fa-shield-heart" style="color:var(--forest)"></i>
            </div>
            <div class="sp">
              <div style="font-weight:900">Designed for routine, reliability & health</div>
              <div class="mini">A calm, subscription-first experience‚Äîno chaotic ‚Äúimpulse ordering‚Äù feed.</div>
            </div>
          </div>
        </div>

        <div style="height:14px"></div>

        <button class="btn primary" data-navto="page-login" style="width:100%">
          Get Started
        </button>

        <div style="height:12px"></div>

        <button class="btn secondary" data-navto="page-login" style="width:100%">
          I already have an account
        </button>

        <div style="height:10px"></div>

        <div class="tiny muted">
          <i class="fa-solid fa-leaf"></i> Reusable dabba ‚Ä¢ <i class="fa-solid fa-hand-sparkles"></i> Hygiene SOP ‚Ä¢ <i class="fa-solid fa-rotate"></i> Subscription savings
        </div>
      </div>

      <!-- 2) LOGIN -->
      <div class="page" id="page-login">
        <div class="toprow">
          <div class="brand-mini">
            <span style="width:34px;height:34px;border-radius:14px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18);">
              <i class="fa-solid fa-leaf" style="color:var(--forest)"></i>
            </span>
            <div style="display:flex;flex-direction:column;line-height:1.05">
              <span style="font-size:14px;font-weight:900;letter-spacing:.2px;">Login</span>
              <span style="font-size:11px;font-weight:700;color:rgba(77,107,94,.95)">Fast & trusted OTP</span>
            </div>
          </div>
          <button class="btn ghost small" data-navto="page-onboarding"><i class="fa-solid fa-arrow-left"></i> Back</button>
        </div>
           <div class="tabs" id="loginRoleTabs">
           <div class="tab active" data-role="user">üë§ User</div>
  <div class="tab" data-role="kitchen">üç≥ Kitchen</div>
</div>     
        <div class="card pad">
          <div class="h2">Continue with your phone</div>
          <div class="sub">We‚Äôll send a 4-digit OTP. Demo OTP: <b>1234</b>.</div>

          <div class="field">
            <div class="label">Phone number</div>
            <div class="row">
              <div class="badge" style="padding: 12px 12px; border-radius: 16px; font-weight:900">+91</div>
              <input class="input" id="phoneInput" inputmode="numeric" maxlength="10" placeholder="10-digit mobile number" />
            </div>
          </div>

          <div class="field">
            <div class="label">OTP</div>
            <input class="input" id="otpInput" inputmode="numeric" maxlength="4" placeholder="Enter OTP (1234)" />
          </div>

          <div class="row" style="margin-top:14px; gap:10px">
            <button class="btn secondary" id="sendOtpBtn" style="flex:1"><i class="fa-solid fa-paper-plane"></i> Send OTP</button>
            <button class="btn primary" id="verifyBtn" style="flex:1"><i class="fa-solid fa-check"></i> Verify</button>
          </div>

          <div class="divider"></div>

          <div class="kicker">Or continue with</div>
          <div class="row" style="gap:10px">
            <button class="btn secondary" id="googleBtn" style="flex:1">
              <i class="fa-brands fa-google"></i> Google
            </button>
            <button class="btn secondary" id="appleBtn" style="flex:1">
              <i class="fa-brands fa-apple"></i> Apple
            </button>
          </div>

          <div style="margin-top:12px" class="tiny muted">
            We never share your number. Your meals, preferences, and eco impact stay private.
          </div>
        </div>
      </div>

      <!-- 3) PREFERENCES -->
      <div class="page" id="page-preferences">
        <div class="toprow">
          <div class="brand-mini">
            <span style="width:34px;height:34px;border-radius:14px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18);">
              <i class="fa-solid fa-sliders" style="color:var(--forest)"></i>
            </span>
            <div style="display:flex;flex-direction:column;line-height:1.05">
              <span style="font-size:14px;font-weight:900;letter-spacing:.2px;">Your preferences</span>
              <span style="font-size:11px;font-weight:700;color:rgba(77,107,94,.95)">Personalization (core USP)</span>
            </div>
          </div>
          <span class="badge"><i class="fa-solid fa-wand-magic-sparkles"></i> 60 sec setup</span>
        </div>

        <div class="card pad">
          <div class="kicker">Step 1</div>
          <div class="h2">Who are you?</div>
          <div class="sub">We tune timing and meal suggestions around your routine.</div>
          <div class="pillrow" id="personaPills">
            <div class="pill on" data-group="persona" data-value="Office-goer">Office-goer</div>
            <div class="pill" data-group="persona" data-value="Student">Student</div>
            <div class="pill" data-group="persona" data-value="Senior">Senior</div>
          </div>

          <div class="divider"></div>

          <div class="kicker">Step 2</div>
          <div class="h2">Diet</div>
          <div class="sub">Select what matters. We‚Äôll label meals clearly.</div>
          <div class="pillrow" id="dietPills">
            <div class="pill on" data-group="diet" data-value="Veg">Veg</div>
            <div class="pill" data-group="diet" data-value="Jain">Jain</div>
            <div class="pill" data-group="diet" data-value="High Protein">High Protein</div>
            <div class="pill" data-group="diet" data-value="Low Oil">Low Oil</div>
            <div class="pill" data-group="diet" data-value="Diabetic-friendly">Diabetic-friendly</div>
          </div>

          <div class="divider"></div>

          <div class="kicker">Step 3</div>
          <div class="h2">Meals needed</div>
          <div class="sub">Choose what you want Green Dabba to manage.</div>
          <div class="pillrow" id="mealPills">
            <div class="pill" data-group="meal" data-value="Breakfast">Breakfast</div>
            <div class="pill on" data-group="meal" data-value="Lunch">Lunch</div>
            <div class="pill" data-group="meal" data-value="Dinner">Dinner</div>
          </div>

          <div class="divider"></div>

          <div class="kicker">Step 4</div>
          <div class="h2">Budget</div>
          <div class="sub">A simple slider for judge-friendly clarity (visual only).</div>
          <div class="card pad soft" style="margin-top:10px">
            <div class="row">
              <div class="sp">
                <div style="font-weight:900">‚Çπ80 ‚Äî ‚Çπ180 / meal</div>
                <div class="mini">Balanced ¬∑ best value plans highlighted</div>
              </div>
              <span class="badge leaf"><i class="fa-solid fa-indian-rupee-sign"></i> Smart</span>
            </div>
            <div style="margin-top:12px; height:10px; border-radius:999px; background: rgba(0,0,0,.06); position:relative">
              <div style="position:absolute; left: 0; top:0; bottom:0; width: 62%; border-radius:999px; background: rgba(46,92,75,.25)"></div>
              <div style="position:absolute; left: 60%; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; border-radius: 999px; background: var(--forest); box-shadow: 0 0 0 6px rgba(46,92,75,.14)"></div>
            </div>
          </div>

          <div style="height:14px"></div>
          <button class="btn primary" id="savePrefsBtn" style="width:100%">
            Save & continue
          </button>

          <div style="height:10px"></div>
          <div class="tiny muted">
            Your preferences drive what‚Äôs ‚ÄúIncluded‚Äù and keep the dashboard calm.
          </div>
        </div>
      </div>

      <!-- 4) HOME -->
      <div class="page" id="page-home">
        <div class="toprow">
          <div class="brand-mini">
            <span style="width:34px;height:34px;border-radius:14px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18);">
              <i class="fa-solid fa-bowl-food" style="color:var(--forest)"></i>
            </span>
            <div style="display:flex;flex-direction:column;line-height:1.05">
              <span style="font-size:14px;font-weight:900;letter-spacing:.2px;">Good Morning, <span id="userNameHome">Jahnvee</span></span>
              <span style="font-size:11px;font-weight:700;color:rgba(77,107,94,.95)">Your routine dashboard</span>
            </div>
          </div>
          <span class="badge leaf"><i class="fa-solid fa-clock"></i> ETA 1:12 PM</span>
        </div>

        <div class="img">
          <img alt="Thali" src="https://images.unsplash.com/photo-1585937421612-70a008356fbe?auto=format&fit=crop&w=1200&q=80">
        </div>

        <div style="margin-top:14px">
          <div class="h2">Premium North Indian Thali</div>
          <div class="sub">Hygienic kitchen partner ¬∑ delivered in reusable steel dabba.</div>
          <div class="tags">
            <span class="tag good"><i class="fa-solid fa-dumbbell"></i> High Protein</span>
            <span class="tag good"><i class="fa-solid fa-droplet"></i> Low Oil</span>
            <span class="tag good"><i class="fa-solid fa-leaf"></i> Eco delivery</span>
          </div>
        </div>

        <div class="divider"></div>

        <div class="cookline">
          <span style="font-size:16px">‚ô®Ô∏è</span>
          Freshly cooking now
          <span class="dots" aria-hidden="true">
            <span class="dot"></span><span class="dot"></span><span class="dot"></span>
          </span>
        </div>

        <div style="height:12px"></div>

        <div class="row" style="gap:10px">
          <button class="btn secondary" id="customizeBtn" style="flex:1"><i class="fa-solid fa-sliders"></i> Customize</button>
          <button class="btn secondary" id="pauseBtn" style="flex:1"><i class="fa-solid fa-pause"></i> Pause</button>
          <button class="btn primary" id="upgradeBtn" style="flex:1"><i class="fa-solid fa-crown"></i> Upgrade</button>
        </div>

        <!-- Customize slide panel -->
        <div class="slidepanel" id="customizePanel" style="margin-top:12px">
          <div class="card pad">
            <div class="row">
              <div class="sp">
                <div style="font-weight:900">Spice level</div>
                <div class="mini">Pick what feels right for your routine.</div>
              </div>
              <span class="badge leaf"><i class="fa-solid fa-pepper-hot"></i> Taste</span>
            </div>

            <div class="pillrow" style="margin-top:12px" id="spicePills">
              <div class="pill on" data-group="spice" data-value="Mild">Mild</div>
              <div class="pill" data-group="spice" data-value="Medium">Medium</div>
              <div class="pill" data-group="spice" data-value="Hot">Hot</div>
            </div>

            <div class="divider"></div>

            <div class="row">
              <button class="btn primary" id="saveCustomBtn" style="flex:1"><i class="fa-solid fa-check"></i> Save preferences</button>
              <button class="btn secondary" id="closeCustomBtn" style="flex:1"><i class="fa-solid fa-xmark"></i> Close</button>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="kicker">Today‚Äôs menu</div>

        <div class="stack">
          <div class="card pad" id="todayCard1">
            <div class="row">
              <div class="thumb"><img alt="Kadhi" src="https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?auto=format&fit=crop&w=800&q=80"></div>
              <div class="sp">
                <div style="font-weight:900">Kadhi ¬∑ Jeera Rice</div>
                <div class="mini">Included ¬∑ 480 kcal ¬∑ low oil</div>
                <div class="tags" style="margin-top:8px">
                  <span class="tag good"><i class="fa-solid fa-leaf"></i> Included</span>
                  <span class="tag"><i class="fa-solid fa-shield-heart"></i> Hygienic</span>
                </div>
              </div>
              <i class="fa-solid fa-chevron-right" style="opacity:.35"></i>
            </div>
          </div>

          <div class="card pad" id="todayCard2">
            <div class="row">
              <div class="thumb"><img alt="Chole" src="https://images.unsplash.com/photo-1606491956689-2ea866880c84?auto=format&fit=crop&w=800&q=80"></div>
              <div class="sp">
                <div style="font-weight:900">Chole ¬∑ 2 Rotis</div>
                <div class="mini">Included ¬∑ 520 kcal ¬∑ protein-rich</div>
                <div class="tags" style="margin-top:8px">
                  <span class="tag good"><i class="fa-solid fa-leaf"></i> Included</span>
                  <span class="tag good"><i class="fa-solid fa-dumbbell"></i> Protein</span>
                </div>
              </div>
              <i class="fa-solid fa-chevron-right" style="opacity:.35"></i>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="card pad soft">
          <div class="row">
            <div style="width:44px;height:44px;border-radius:18px;background:rgba(46,92,75,.10);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18)">
              <i class="fa-solid fa-earth-asia" style="color:var(--forest)"></i>
            </div>
            <div class="sp">
              <div style="font-weight:900">Your eco impact today</div>
              <div class="mini">
                Plastic avoided: <b id="ecoPlasticToday">2</b> boxes ¬∑ CO‚ÇÇ reduced: <b id="ecoCO2Today">0.8</b> kg ¬∑
                Aqua-life protected*: <b id="ecoMarineToday">1</b>
              </div>
            </div>
          </div>
          <div class="divider"></div>
          <div class="tiny muted">
            *Estimated from replacing single-use containers with reusable steel dabbas (assumption: 30g plastic/meal).
          </div>
        </div>

        <div style="height:10px"></div>
        <div class="tiny muted">
          <i class="fa-solid fa-quote-left"></i>
          Unlike food delivery apps built for impulse, <b>Green Dabba</b> is designed for routine, reliability & health.
        </div>
      </div>

      <!-- 5) MEALS -->
      <div class="page" id="page-meals">
        <div class="toprow">
          <div class="brand-mini">
            <span style="width:34px;height:34px;border-radius:14px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18);">
              <i class="fa-solid fa-utensils" style="color:var(--forest)"></i>
            </span>
            <div style="display:flex;flex-direction:column;line-height:1.05">
              <span style="font-size:14px;font-weight:900;letter-spacing:.2px;">Meals</span>
              <span style="font-size:11px;font-weight:700;color:rgba(77,107,94,.95)">Clean menu experience</span>
            </div>
          </div>
          <span class="badge leaf"><i class="fa-solid fa-leaf"></i> Included-first</span>
        </div>

        <div class="tabs" id="mealTabs">
          <div class="tab" data-tab="Breakfast">Breakfast</div>
          <div class="tab active" data-tab="Lunch">Lunch</div>
          <div class="tab" data-tab="Dinner">Dinner</div>
        </div>

        <div class="stack" id="mealList"></div>

        <div class="divider"></div>

        <button class="btn primary" id="upgradeFromMeals" style="width:100%">
          <i class="fa-solid fa-crown"></i> Upgrade to premium
        </button>

        <div style="height:10px"></div>
        <div class="tiny muted">
          Premium items are subtly gated with a lock‚Äîstrong upgrade nudge without clutter.
        </div>
      </div>

<!-- üß† DIABETIC CUSTOMIZATION PAGE -->
<div class="page" id="page-diabetic">

  <div class="toprow">
    <div class="brand-mini">
      <span style="width:34px;height:34px;border-radius:14px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18);">
        üß†
      </span>
      <div style="display:flex;flex-direction:column;line-height:1.05">
        <span style="font-size:14px;font-weight:900;">Diabetic Customization</span>
        <span style="font-size:11px;font-weight:700;color:rgba(77,107,94,.95)">
          Personalized health settings
        </span>
      </div>
    </div>

    <button class="btn ghost small" data-navto="page-preferences">
      ‚Üê Back
    </button>
  </div>

  <div class="card pad">

    <div class="h2">Customize your diabetic plan</div>
    <div class="sub">We‚Äôll adjust meals to control sugar levels.</div>

    <div class="divider"></div>

    <div class="kicker">Carb level</div>
    <div class="pillrow" id="carbPills">
      <div class="pill on" data-carb="Low">Low Carb</div>
      <div class="pill" data-carb="Moderate">Moderate</div>
      <div class="pill" data-carb="Strict">Strict Control</div>
    </div>

    <div class="divider"></div>

    <div class="kicker">Sugar control</div>
    <div class="pillrow" id="sugarPills">
      <div class="pill on" data-sugar="No sugar">No Sugar</div>
      <div class="pill" data-sugar="Natural only">Natural Only</div>
    </div>

    <div style="height:14px"></div>

    <button class="btn primary" id="saveDiabeticBtn" style="width:100%">
      Save customization
    </button>

  </div>

</div>


      <!-- 6) SUBSCRIPTION -->
      <div class="page" id="page-subs">
        <div class="toprow">
            <!-- üìÖ Premium Calendar Section -->
<div class="calendar-wrapper" style="margin-bottom:14px;">
  <button id="openCalendar" class="btn secondary" style="width:100%;">
    üìÖ Select Your 3 Meal Days
  </button>

  <div id="calendarContainer" style="display:none; margin-top:10px;">
    <input type="date" id="datePicker" class="input">

    <div id="selectedDates" class="pillrow" style="margin-top:10px;"></div>

    <div class="tiny muted" style="margin-top:8px;">
      Premium users can select up to <b>3 days</b>.
    </div>
  </div>
</div>

          <div class="brand-mini">
            <span style="width:34px;height:34px;border-radius:14px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18);">
              <i class="fa-solid fa-rotate" style="color:var(--forest)"></i>
            </span>
            <div style="display:flex;flex-direction:column;line-height:1.05">
              <span style="font-size:14px;font-weight:900;letter-spacing:.2px;">Subscription</span>
              <span style="font-size:11px;font-weight:700;color:rgba(77,107,94,.95)">Revenue engine</span>
            </div>
          </div>
          <span class="badge"><i class="fa-solid fa-tags"></i> Savings</span>
        </div>

        <div class="stack" id="planList"></div>

        <div class="divider"></div>

        <div class="card pad soft">
          <div class="row">
            <div class="sp">
              <div style="font-weight:900">Ordering daily</div>
              <div class="mini">‚Çπ180/meal ¬∑ impulse-driven</div>
            </div>
            <div style="text-align:right">
              <div style="font-weight:900;color:var(--forest)">Subscription</div>
              <div class="mini"><b>‚Çπ120/meal</b> ¬∑ routine-first</div>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <button class="btn primary" id="proceedPaymentBtn" style="width:100%">
          Proceed to payment
        </button>

        <div style="height:10px"></div>
        <div class="tiny muted">
          Plans are clickable with a clear selected state (judge-friendly UX).
        </div>
      </div>

      <!-- 7) PAYMENT -->
      <div class="page" id="page-payment">
        <div class="toprow">
          <div class="brand-mini">
            <span style="width:34px;height:34px;border-radius:14px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18);">
              <i class="fa-solid fa-credit-card" style="color:var(--forest)"></i>
            </span>
            <div style="display:flex;flex-direction:column;line-height:1.05">
              <span style="font-size:14px;font-weight:900;letter-spacing:.2px;">Checkout</span>
              <span style="font-size:11px;font-weight:700;color:rgba(77,107,94,.95)">Secure payment</span>
            </div>
          </div>
          <button class="btn ghost small" data-navto="page-subs"><i class="fa-solid fa-arrow-left"></i> Back</button>
        </div>

        <div class="card pad">
          <div class="row">
            <div class="thumb">
              <img alt="Premium dish" src="https://images.unsplash.com/photo-1567188040755-1e7fa3f3b1b5?auto=format&fit=crop&w=800&q=80">
            </div>
            <div class="sp">
              <div style="font-weight:900" id="payPlanName">Daily Lunch Plan</div>
              <div class="mini" id="payPlanMeta">22 meals ¬∑ hygiene SOP ¬∑ reusable dabba</div>
            </div>
            <span class="badge leaf"><i class="fa-solid fa-shield-heart"></i> Safe</span>
          </div>

          <div class="divider"></div>

          <div class="stack" style="gap:10px">
            <div class="row">
              <div class="muted tiny">Plan price</div>
              <div class="sp"></div>
              <div style="font-weight:900" id="payPrice">‚Çπ2,640</div>
            </div>
            <div class="row">
              <div class="muted tiny">Subscription discount</div>
              <div class="sp"></div>
              <div style="font-weight:900;color:var(--forest)" id="payDiscount">‚Äì ‚Çπ220</div>
            </div>
            <div class="row">
              <div class="muted tiny">Eco handling</div>
              <div class="sp"></div>
              <div style="font-weight:900">‚Çπ0</div>
            </div>
            <div class="divider" style="margin:10px 0"></div>
            <div class="row">
              <div style="font-weight:900">Total</div>
              <div class="sp"></div>
              <div class="price" id="payTotal">‚Çπ2,420</div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="kicker">Payment method</div>
          <div class="pillrow" id="payMethods">
            <div class="pill on" data-method="Card"><i class="fa-solid fa-credit-card"></i> Card</div>
            <div class="pill" data-method="UPI"><i class="fa-solid fa-qrcode"></i> UPI</div>
            <div class="pill" data-method="Netbanking"><i class="fa-solid fa-building-columns"></i> Netbanking</div>
          </div>

          <div style="height:14px"></div>

          <button class="btn primary" id="payBtn" style="width:100%">
            Pay <span id="payBtnTotal">‚Çπ2,420</span>
          </button>

          <div id="paySuccess" class="card pad soft" style="display:none; margin-top:12px">
            <div class="row">
              <div style="width:46px;height:46px;border-radius:18px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18)">
                <i class="fa-solid fa-circle-check" style="color:var(--forest); font-size:22px"></i>
              </div>
              <div class="sp">
                <div style="font-weight:900">Payment successful!</div>
                <div class="mini">Your subscription is active. Lunch arrives at <b>1:12 PM</b>.</div>
              </div>
            </div>
            <div class="divider"></div>
            <button class="btn primary" id="goHomeAfterPay" style="width:100%"><i class="fa-solid fa-house"></i> Go to Home</button>
          </div>

        </div>
      </div>

      <!-- 8) TRACK -->
      <div class="page" id="page-track">
        <div class="toprow">
          <div class="brand-mini">
            <span style="width:34px;height:34px;border-radius:14px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18);">
              <i class="fa-solid fa-motorcycle" style="color:var(--forest)"></i>
            </span>
            <div style="display:flex;flex-direction:column;line-height:1.05">
              <span style="font-size:14px;font-weight:900;letter-spacing:.2px;">Live tracking</span>
              <span style="font-size:11px;font-weight:700;color:rgba(77,107,94,.95)">Minimal, calm map</span>
            </div>
          </div>
          <span class="badge leaf"><i class="fa-solid fa-location-dot"></i> 1.2 km</span>
        </div>

        <div class="map">
          <div class="pin rider" title="Delivery partner"></div>
          <div class="pin you" title="You"></div>
          <div class="route"><span></span></div>
          <div style="position:absolute; left:14px; top:14px" class="badge">
            Delivery partner <b>&nbsp;1.2 km</b> away ¬∑ ETA <b>&nbsp;12 min</b>
          </div>
          <div style="position:absolute; left:14px; bottom:14px" class="badge leaf">
            <i class="fa-solid fa-leaf"></i> Dabbe return pickup confirmed
          </div>
        </div>

        <div class="divider"></div>

        <div class="card pad soft">
          <div class="row">
            <div style="width:44px;height:44px;border-radius:18px;background:rgba(46,92,75,.10);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18)">
              <i class="fa-solid fa-recycle" style="color:var(--forest)"></i>
            </div>
            <div class="sp">
              <div style="font-weight:900">Eco impact (this month)</div>
              <div class="mini">
                Plastic saved: <b id="ecoPlasticMonth">28</b> boxes ¬∑ CO‚ÇÇ reduced: <b id="ecoCO2Month">11</b> kg
              </div>
              <div class="mini">
                Microplastics avoided*: <b id="ecoMicroMonth">0.84</b> kg ¬∑ Aqua-life protected*: <b id="ecoMarineMonth">14</b>
              </div>
            </div>
          </div>
          <div class="divider"></div>
          <div class="tiny muted">
            *Estimated from reusable packaging replacing ~30g single-use plastic per meal. CO‚ÇÇ estimates are conservative.
          </div>
        </div>

        <div style="height:12px"></div>

        <button class="btn secondary" id="refreshTrackBtn" style="width:100%">
          <i class="fa-solid fa-rotate-right"></i> Refresh status
        </button>
      </div>

      <!-- 9) PROFILE -->
      <div class="page" id="page-profile">
<!-- ü§ñ Chatbot Assistant -->
<div id="chatbotBtn" style="
  position: fixed;
  bottom: 110px;
  right: 26px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: linear-gradient(135deg,#7C3AED,#A78BFA);
  display: grid;
  place-items: center;
  color: white;
  font-size: 22px;
  cursor: pointer;
  box-shadow: 0 10px 25px rgba(0,0,0,.2);
  z-index: 1000;">
  ü§ñ
</div>

<div id="chatPanel" style="
  position: fixed;
  bottom: 180px;
  right: 20px;
  width: 280px;
  max-height: 380px;
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 40px rgba(0,0,0,.2);
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 1000;">
  <div style="background:#7C3AED;color:white;padding:12px;font-weight:900;text-align:center;">
    Green Dabba Assistant
  </div>

  <div id="chatMessages" style="padding:10px;overflow-y:auto;font-size:13px;">
    üëã Hi! Ask me anything.
  </div>

  <div style="padding:10px;border-top:1px solid #eee;">
    <input id="chatInput" class="input" placeholder="Type message..." />
  </div>
</div>


        <div class="toprow">
          <div class="brand-mini">
            <span style="width:34px;height:34px;border-radius:14px;background:rgba(46,92,75,.12);display:grid;place-items:center;border:1px solid rgba(46,92,75,.18);">
              <i class="fa-solid fa-user" style="color:var(--forest)"></i>
            </span>
            <div style="display:flex;flex-direction:column;line-height:1.05">
              <span style="font-size:14px;font-weight:900;letter-spacing:.2px;">Profile</span>
              <span style="font-size:11px;font-weight:700;color:rgba(77,107,94,.95)">Your stats & impact</span>
            </div>
          </div>
          <span class="badge" id="subStatusBadge"><i class="fa-solid fa-circle-dot"></i> Trial</span>
        </div>

        <div class="card pad">
          <div class="row">
            <div style="width:56px;height:56px;border-radius:22px;background:rgba(46,92,75,.10);border:1px solid rgba(46,92,75,.18);display:grid;place-items:center">
              <i class="fa-solid fa-user" style="font-size:22px; color:var(--forest)"></i>
            </div>
            <div class="sp">
              <div style="font-weight:900; font-size:16px">Jahnvee</div>
              <div class="mini">Diet: <b id="profileDiet">Veg</b> ¬∑ Routine: <b id="profilePersona">Office-goer</b> ¬∑ Meals: <b id="profileMeals">Lunch</b></div>
            </div>
            <button class="btn secondary small" id="editPrefsBtn"><i class="fa-solid fa-pen"></i></button>
          </div>

          <div class="divider"></div>

          <div class="kicker">Eco impact ¬∑ lifetime</div>
          <div class="row" style="gap:10px; margin-top:10px">
            <div class="card pad soft" style="flex:1">
              <div style="font-weight:900; font-size:16px" id="ecoLifePlastic">120</div>
              <div class="mini">Plastic boxes avoided</div>
            </div>
            <div class="card pad soft" style="flex:1">
              <div style="font-weight:900; font-size:16px" id="ecoLifeCO2">46</div>
              <div class="mini">kg CO‚ÇÇ reduced</div>
            </div>
          </div>

          <div style="height:10px"></div>

          <div class="card pad soft">
            <div class="row">
              <div class="sp">
                <div style="font-weight:900">Aqua-life protected*</div>
                <div class="mini"><b id="ecoLifeMarine">58</b> (impact indicator)</div>
              </div>
              <span class="badge leaf"><i class="fa-solid fa-fish-fins"></i> Aqua</span>
            </div>
            <div class="divider"></div>
            <div class="tiny muted">*Estimated indicator: plastics avoided converted to ‚Äúaqua-life equivalent‚Äù using a conservative internal benchmark.</div>
          </div>

          <div class="divider"></div>

          <div class="kicker">My subscription</div>
          <div class="card pad soft">
            <div class="row">
              <div class="sp">
                <div style="font-weight:900" id="myPlanName">Daily Lunch Plan</div>
                <div class="mini" id="myPlanMeta">Next delivery: 1:12 PM ¬∑ Pause/upgrade anytime</div>
              </div>
              <span class="badge leaf" id="myPlanBadge"><i class="fa-solid fa-circle-check"></i> Active</span>
            </div>
            <div class="divider"></div>
            <button class="btn primary" id="managePlanBtn" style="width:100%"><i class="fa-solid fa-rotate"></i> Manage subscription</button>
          </div>

          <div class="divider"></div>

          <div class="card pad" style="background: rgba(245,237,224,.62)">
            <div class="row">
              <div style="width:44px;height:44px;border-radius:18px;background:rgba(139,107,77,.12);display:grid;place-items:center;border:1px solid rgba(139,107,77,.20)">
                <i class="fa-solid fa-kitchen-set" style="color:var(--brown)"></i>
              </div>
              <div class="sp">
                <div style="font-weight:900">Kitchen Partner View</div>
                <div class="mini">Our predictable orders reduce food waste by <b>94%</b> ‚Äì kitchen partners love us.</div>
              </div>
            </div>
          </div>

          <div style="height:10px"></div>
          <div class="tiny muted">
            <i class="fa-solid fa-quote-left"></i>
            Unlike food delivery apps built for impulse, <b>Green Dabba</b> is designed for routine, reliability & health.
          </div>

          <div class="divider"></div>

          <div class="kicker">Payment history</div>
          <div class="card pad">
            <div class="tiny muted">Recent payments (placeholder)</div>
            <div class="divider"></div>
            <div class="row">
              <div class="sp">
                <div style="font-weight:900">Subscription renewal</div>
                <div class="mini">Feb 02 ¬∑ UPI</div>
              </div>
              <div style="font-weight:900">‚Çπ2,420</div>
            </div>
          </div>

        </div>
      </div>

    </div>

    <!-- Bottom Nav -->
    <div class="bottom-nav hidden" id="bottomNav">
      <button class="navbtn" data-nav="home"><i class="fa-solid fa-house"></i><span>Home</span></button>
      <button class="navbtn" data-nav="meals"><i class="fa-solid fa-utensils"></i><span>Meals</span></button>
      <button class="navbtn" data-nav="subs"><i class="fa-solid fa-rotate"></i><span>Subs</span></button>
      <button class="navbtn" data-nav="track"><i class="fa-solid fa-location-dot"></i><span>Track</span></button>
      <button class="navbtn" data-nav="profile"><i class="fa-solid fa-user"></i><span>Profile</span></button>
    </div>

    <div class="toast" id="toast"></div>
  </div>

<script>
(function(){
  const pages = Array.from(document.querySelectorAll(".page"));
  const nav = document.getElementById("bottomNav");
  const toastEl = document.getElementById("toast");

  // Unsplash photos (exact IDs requested)
  const IMG = {
    thali: "https://images.unsplash.com/photo-1585937421612-70a008356fbe?auto=format&fit=crop&w=1200&q=80",
    dosa: "https://images.unsplash.com/photo-1484723091739-30a097e8f929?auto=format&fit=crop&w=1200&q=80",
    kadhi: "https://images.unsplash.com/photo-1603894584373-5ac82b2ae398?auto=format&fit=crop&w=1200&q=80",
    chole: "https://images.unsplash.com/photo-1606491956689-2ea866880c84?auto=format&fit=crop&w=1200&q=80",
    premium: "https://images.unsplash.com/photo-1567188040755-1e7fa3f3b1b5?auto=format&fit=crop&w=1200&q=80",
    tiffin: "https://images.unsplash.com/photo-1547592180-85f173990554?auto=format&fit=crop&w=1200&q=80"
  };

  const state = {
    user: { name: "Jahnvee", phone: "" },
    prefs: {
      persona: "Office-goer",
      diet: new Set(["Veg", "High Protein", "Low Oil"]),
      meals: new Set(["Lunch"]),
      spice: "Mild"
    },
    subscription: {
      active: false,
      paused: false,
      planId: "daily_lunch"
    },
    payment: { method: "Card" },
    eco: { plasticMonth: 28, co2Month: 11 }
  };

  const PLAN = {
    daily_lunch: { id:"daily_lunch", name:"Daily Lunch", tag:"Most popular", priceLabel:"‚Çπ120/meal", descriptor:"Perfect for office routine ¬∑ lunch only", total:2420, meals:22, original:2640, discount:220 },
    full_day:    { id:"full_day", name:"Full Day", tag:"Best value", priceLabel:"‚Çπ320/day",  descriptor:"Breakfast + Lunch + Dinner", total:320*30, meals:90, original: (360*30), discount:(40*30) },
    weekly:      { id:"weekly", name:"Weekly Custom", tag:"Flexible", priceLabel:"‚Çπ850/week", descriptor:"Choose 5‚Äì6 days ¬∑ lunch/dinner", total:850*4, meals:48, original: (950*4), discount:(100*4) }
  };

  function showToast(msg){
    toastEl.textContent = msg;
    toastEl.classList.add("show");
    clearTimeout(showToast._t);
    showToast._t = setTimeout(()=> toastEl.classList.remove("show"), 2200);
  }

  function setActive(pageId){
    pages.forEach(p => p.classList.toggle("active", p.id === pageId));
    const main = ["page-home","page-meals","page-subs","page-track","page-profile"].includes(pageId);
    nav.classList.toggle("hidden", !main);

    const map = {
      "page-home":"home",
      "page-meals":"meals",
      "page-subs":"subs",
      "page-track":"track",
      "page-profile":"profile"
    };
    const activeKey = map[pageId] || null;
    document.querySelectorAll(".navbtn").forEach(b=>{
      b.classList.toggle("active", b.dataset.nav === activeKey);
    });

    const activePage = document.getElementById(pageId);
    if(activePage) activePage.scrollTo({top:0, behavior:"instant"});
  }

  // Generic nav-to buttons
  document.querySelectorAll("[data-navto]").forEach(btn=>{
    btn.addEventListener("click", ()=> setActive(btn.dataset.navto));
  });

  // Bottom nav
  document.querySelectorAll(".navbtn").forEach(btn=>{
    btn.addEventListener("click", ()=>{
      const key = btn.dataset.nav;
      const id = { home:"page-home", meals:"page-meals", subs:"page-subs", track:"page-track", profile:"page-profile" }[key];
      setActive(id);
    });
  });

  // Login
  const phoneInput = document.getElementById("phoneInput");
  const otpInput = document.getElementById("otpInput");

  document.getElementById("sendOtpBtn").addEventListener("click", ()=>{
    const phone = (phoneInput.value || "").trim();
    if(phone.length < 10){ showToast("Enter a valid 10-digit number."); return; }
    showToast("OTP sent. Demo OTP is 1234.");
  });

  document.getElementById("verifyBtn").addEventListener("click", ()=>{
    const phone = (phoneInput.value || "").trim();
    const otp = (otpInput.value || "").trim();
    if(phone.length < 10){ showToast("Enter a valid 10-digit number."); return; }
    if(otp !== "1234"){ showToast("Incorrect OTP. Try 1234."); return; }
    state.user.phone = phone;
    showToast("Verified ‚úÖ Welcome to Green Dabba.");
    setActive("page-preferences");
  });

  document.getElementById("googleBtn").addEventListener("click", ()=> showToast("Google login (demo). Continue to preferences."));
  document.getElementById("appleBtn").addEventListener("click", ()=> showToast("Apple login (demo). Continue to preferences."));

  // Preferences pills
  function pillGroupToggle(containerId, groupName){
    const wrap = document.getElementById(containerId);
    if(!wrap) return;
    wrap.querySelectorAll(".pill").forEach(p=>{
      p.addEventListener("click", ()=>{
        const group = p.dataset.group;
        const val = p.dataset.value;

        if(groupName === "persona"){
          wrap.querySelectorAll(".pill").forEach(x=> x.classList.remove("on"));
          p.classList.add("on");
          state.prefs.persona = val;
          return;
        }
        if(groupName === "diet"){
          p.classList.toggle("on");
          if(p.classList.contains("on")) state.prefs.diet.add(val);
          else state.prefs.diet.delete(val);
          if(state.prefs.diet.size === 0){
            state.prefs.diet.add("Veg");
            wrap.querySelector('[data-value="Veg"]').classList.add("on");
          }
          return;
        }
        if(groupName === "meal"){
          p.classList.toggle("on");
          if(p.classList.contains("on")) state.prefs.meals.add(val);
          else state.prefs.meals.delete(val);
          if(state.prefs.meals.size === 0){
            state.prefs.meals.add("Lunch");
            wrap.querySelector('[data-value="Lunch"]').classList.add("on");
          }
          return;
        }
      });
    });
  }
  pillGroupToggle("personaPills", "persona");
  pillGroupToggle("dietPills", "diet");
  pillGroupToggle("mealPills", "meal");

  document.querySelectorAll('#dietPills .pill').forEach(pill => {
  pill.addEventListener("click", () => {

    const val = pill.dataset.value;

    // üß† If Diabetic selected ‚Üí open new page
    if(val === "Diabetic-friendly"){
      setActive("page-diabetic");
      showToast("Customize your diabetic meal plan.");
    }

  });
});


  document.getElementById("savePrefsBtn").addEventListener("click", ()=>{
    setActive("page-home");
    const hasOffice = state.prefs.persona === "Office-goer";
    const hasVeg = state.prefs.diet.has("Veg");
    const hasLunch = state.prefs.meals.has("Lunch");

    const msg = (hasOffice && hasVeg && hasLunch)
      ? `${state.user.name}, we‚Äôve saved your high-protein lunch preference!`
      : `${state.user.name}, your routine preferences are saved.`;
    showToast(msg);

    syncProfile();
    recalcEco();
    renderMeals();
  });

  // Home: quick actions
  const customizePanel = document.getElementById("customizePanel");
  document.getElementById("customizeBtn").addEventListener("click", ()=>{
    customizePanel.classList.toggle("open");
    showToast(customizePanel.classList.contains("open") ? "Customize your meal taste." : "Customization closed.");
  });
  document.getElementById("closeCustomBtn").addEventListener("click", ()=> customizePanel.classList.remove("open"));

  document.querySelectorAll("#spicePills .pill").forEach(p=>{
    p.addEventListener("click", ()=>{
      document.querySelectorAll("#spicePills .pill").forEach(x=> x.classList.remove("on"));
      p.classList.add("on");
      state.prefs.spice = p.dataset.value;
    });
  });

  document.getElementById("saveCustomBtn").addEventListener("click", ()=>{
    showToast(`Saved: ${state.prefs.spice} spice ¬∑ low-oil cooking.`);
  });

  document.getElementById("pauseBtn").addEventListener("click", ()=>{
    if(!state.subscription.active){
      showToast("Start a plan to enable pause.");
      setActive("page-subs");
      return;
    }
    state.subscription.paused = !state.subscription.paused;
    showToast(state.subscription.paused ? "Subscription paused until Thursday." : "Subscription resumed. Lunch ETA stays 1:12 PM.");
    syncProfile();
  });

  document.getElementById("upgradeBtn").addEventListener("click", ()=>{
    setActive("page-subs");
    showToast("Pick a plan that fits your routine.");
  });

  // Make today's cards tappable
  document.getElementById("todayCard1").addEventListener("click", ()=> { showToast("Added to tomorrow‚Äôs rotation (demo)."); bumpEco(1); });
  document.getElementById("todayCard2").addEventListener("click", ()=> { showToast("Added to tomorrow‚Äôs rotation (demo)."); bumpEco(1); });

  // Meals tabs
  const mealTabs = document.getElementById("mealTabs");
  let activeMealTab = "Lunch";
  mealTabs.querySelectorAll(".tab").forEach(t=>{
    t.addEventListener("click", ()=>{
      mealTabs.querySelectorAll(".tab").forEach(x=> x.classList.remove("active"));
      t.classList.add("active");
      activeMealTab = t.dataset.tab;
      renderMeals();
    });
  });

  function mealCard({title, desc, img, kcal, tags, locked=false}){
    const tagHtml = tags.map(t=>{
      if(t === "Included") return `<span class="tag good"><i class="fa-solid fa-leaf"></i> Included</span>`;
      if(t === "Eco") return `<span class="tag good"><i class="fa-solid fa-recycle"></i> Eco</span>`;
      if(t === "Premium") return `<span class="tag warn"><i class="fa-solid fa-crown"></i> Premium</span>`;
      if(t === "High Protein") return `<span class="tag good"><i class="fa-solid fa-dumbbell"></i> Protein</span>`;
      if(t === "Low Oil") return `<span class="tag good"><i class="fa-solid fa-droplet"></i> Low Oil</span>`;
      return `<span class="tag">${t}</span>`;
    }).join("");

    const card = document.createElement("div");
    card.className = "card" + (locked ? " locked" : "");
    card.innerHTML = `
      <div style="display:grid; grid-template-columns: 84px 1fr; gap:12px; padding: 14px;">
        <div class="thumb"><img alt="${title}" src="${img}"></div>
        <div>
          <div style="font-weight:900">${title}</div>
          <div class="mini">${desc} ¬∑ <b>${kcal}</b> kcal</div>
          <div class="tags" style="margin-top:8px">${tagHtml}</div>
        </div>
      </div>
    `;
    card.addEventListener("click", ()=>{
      if(locked){
        showToast("Premium locked. Upgrade to unlock.");
        setActive("page-subs");
        return;
      }
      showToast("Included in your routine (demo).");
      bumpEco(1);
    });
    return card;
  }

  function renderMeals(){
    const list = document.getElementById("mealList");
    list.innerHTML = "";

    const breakfast = [
      {title:"Crisp Dosa ¬∑ Coconut Chutney", desc:"Light, clean start ¬∑ hygienic kitchen", img: IMG.dosa, kcal: 420, tags:["Included","Eco"]},
      {title:"Protein Bowl ¬∑ Seasonal fruit", desc:"Balanced macros ¬∑ minimal oil", img: IMG.premium, kcal: 390, tags:["High Protein","Low Oil","Eco"]},
      {title:"Classic South Tiffin Combo", desc:"Idli + sambar ¬∑ comforting", img: IMG.dosa, kcal: 460, tags:["Included","Low Oil"]}
    ];
    const lunch = [
      {title:"Premium North Indian Thali", desc:"Steel dabba ¬∑ chef‚Äôs signature", img: IMG.thali, kcal: 560, tags:["Included","High Protein","Low Oil","Eco"]},
      {title:"Kadhi ¬∑ Jeera Rice", desc:"Homestyle ¬∑ low-oil cooking", img: IMG.kadhi, kcal: 480, tags:["Included","Low Oil","Eco"]},
      {title:"Chole ¬∑ 2 Rotis", desc:"Protein-rich ¬∑ hygienic SOP", img: IMG.chole, kcal: 520, tags:["Included","High Protein"]}
    ];
    const dinner = [
      {title:"Light Dinner Bowl", desc:"Low oil ¬∑ easy digestion", img: IMG.premium, kcal: 410, tags:["Low Oil","Eco"]},
      {title:"Comfort Kadhi Dinner", desc:"Warm & calming ¬∑ routine-friendly", img: IMG.kadhi, kcal: 440, tags:["Included","Low Oil"]},
      {title:"Chef‚Äôs Premium Platter", desc:"Limited availability ¬∑ upgrades only", img: IMG.premium, kcal: 620, tags:["Premium","Eco"], locked:true}
    ];

    const data = (activeMealTab === "Breakfast") ? breakfast : (activeMealTab === "Dinner") ? dinner : lunch;

    // Always include ONE locked premium card on Lunch tab too (strong upgrade nudge)
    if(activeMealTab === "Lunch"){
      list.appendChild(mealCard({title:"Chef‚Äôs Premium Thali+", desc:"Better ingredients ¬∑ limited slots", img: IMG.premium, kcal: 650, tags:["Premium","Eco"], locked:true}));
    }

    data.forEach(item => list.appendChild(mealCard(item)));
  }

  document.getElementById("upgradeFromMeals").addEventListener("click", ()=>{
    setActive("page-subs");
    showToast("Upgrade to unlock premium dishes.");
  });

  // Subscription plans
  const planList = document.getElementById("planList");
  function renderPlans(){
    planList.innerHTML = "";
    const plans = [PLAN.daily_lunch, PLAN.full_day, PLAN.weekly];
    plans.forEach(p=>{
      const el = document.createElement("div");
      el.className = "plan" + (state.subscription.planId === p.id ? " selected" : "");
      el.innerHTML = `
        <div class="planhead">
          <div style="width:44px;height:44px;border-radius:18px;background:rgba(46,92,75,.10);border:1px solid rgba(46,92,75,.18);display:grid;place-items:center; flex:none">
            <i class="fa-solid fa-leaf" style="color:var(--forest)"></i>
          </div>
          <div class="sp">
            <div style="display:flex; align-items:center; gap:10px;">
              <div style="font-weight:900">${p.name}</div>
              <span class="tag ${p.tag === "Most popular" ? "good":"warn"}" style="padding:6px 10px">${p.tag}</span>
            </div>
            <div class="mini">${p.descriptor}</div>
          </div>
          <div style="text-align:right">
            <div class="price">${p.priceLabel}</div>
            <div class="mini">Tap to select</div>
          </div>
        </div>
        <div class="divider"></div>
        <div class="row">
          <div class="tag good"><i class="fa-solid fa-shield-heart"></i> Hygienic SOP</div>
          <div class="tag good"><i class="fa-solid fa-recycle"></i> Reusable dabba</div>
          <div class="tag"><i class="fa-solid fa-clock"></i> Predictable ETA</div>
        </div>
      `;
      el.addEventListener("click", ()=>{
        state.subscription.planId = p.id;
        renderPlans();
        showToast(`Selected: ${p.name}`);
        syncPayment();
        syncProfile();
      });
      planList.appendChild(el);
    });
  }

  document.getElementById("proceedPaymentBtn").addEventListener("click", ()=>{
    setActive("page-payment");
    syncPayment();
    showToast("Review and pay securely.");
  });

  // Payment methods
  document.querySelectorAll("#payMethods .pill").forEach(p=>{
    p.addEventListener("click", ()=>{
      document.querySelectorAll("#payMethods .pill").forEach(x=> x.classList.remove("on"));
      p.classList.add("on");
      state.payment.method = p.dataset.method;
      showToast(`Payment method: ${state.payment.method}`);
    });
  });

  document.getElementById("payBtn").addEventListener("click", ()=>{
    state.subscription.active = true;
    state.subscription.paused = false;

    document.getElementById("payBtn").style.display = "none";
    document.getElementById("paySuccess").style.display = "block";

    showToast("Payment successful ‚úÖ Subscription active.");
    syncProfile();

    // boost eco stats to reflect starting subscription
    state.eco.plasticMonth = Math.max(state.eco.plasticMonth, 28);
    state.eco.co2Month = Math.max(state.eco.co2Month, 11);
    recalcEco();
  });

  document.getElementById("goHomeAfterPay").addEventListener("click", ()=> setActive("page-home"));

  // Track refresh
  document.getElementById("refreshTrackBtn").addEventListener("click", ()=> showToast("Live status refreshed ¬∑ rider is moving."));

  // Profile actions
  document.getElementById("managePlanBtn").addEventListener("click", ()=> setActive("page-subs"));
  document.getElementById("editPrefsBtn").addEventListener("click", ()=>{
    setActive("page-preferences");
    showToast("Update preferences anytime.");
  });

  // Sync UI
  function syncPayment(){
    const plan = PLAN[state.subscription.planId] || PLAN.daily_lunch;
    document.getElementById("payPlanName").textContent = plan.name + " Plan";
    document.getElementById("payPlanMeta").textContent = `${plan.meals} meals ¬∑ hygiene SOP ¬∑ reusable dabba`;
    document.getElementById("payPrice").textContent = money(plan.original);
    document.getElementById("payDiscount").textContent = "‚Äì " + money(plan.discount);
    document.getElementById("payTotal").textContent = money(plan.total);
    document.getElementById("payBtnTotal").textContent = money(plan.total);

    if(state.subscription.active){
      document.getElementById("payBtn").style.display = "none";
      document.getElementById("paySuccess").style.display = "block";
    }else{
      document.getElementById("payBtn").style.display = "block";
      document.getElementById("paySuccess").style.display = "none";
    }
  }

  function syncProfile(){
    document.getElementById("userNameHome").textContent = state.user.name;
    document.getElementById("profilePersona").textContent = state.prefs.persona;
    document.getElementById("profileDiet").textContent = Array.from(state.prefs.diet).slice(0,2).join(", ");
    document.getElementById("profileMeals").textContent = Array.from(state.prefs.meals).join(", ");

    const statusBadge = document.getElementById("subStatusBadge");
    const myPlanBadge = document.getElementById("myPlanBadge");
    const myPlanName = document.getElementById("myPlanName");
    const plan = PLAN[state.subscription.planId] || PLAN.daily_lunch;
    myPlanName.textContent = plan.name + " Plan";

    if(state.subscription.active && !state.subscription.paused){
      statusBadge.innerHTML = `<i class="fa-solid fa-circle-check"></i> Active`;
      statusBadge.classList.add("leaf");
      myPlanBadge.innerHTML = `<i class="fa-solid fa-circle-check"></i> Active`;
      myPlanBadge.classList.add("leaf");
    }else if(state.subscription.active && state.subscription.paused){
      statusBadge.innerHTML = `<i class="fa-solid fa-pause"></i> Paused`;
      statusBadge.classList.remove("leaf");
      myPlanBadge.innerHTML = `<i class="fa-solid fa-pause"></i> Paused`;
      myPlanBadge.classList.remove("leaf");
    }else{
      statusBadge.innerHTML = `<i class="fa-solid fa-circle-dot"></i> Trial`;
      statusBadge.classList.remove("leaf");
      myPlanBadge.innerHTML = `<i class="fa-solid fa-circle-dot"></i> Not active`;
      myPlanBadge.classList.remove("leaf");
    }
  }

  // Eco calculations (conservative estimates, explained)
  function recalcEco(){
    const plasticBoxes = Math.round(state.eco.plasticMonth);
    const co2 = round1(state.eco.co2Month);

    // 30g plastic/meal/container
    const plasticKg = round2(plasticBoxes * 0.03);

    // Aqua-life equivalent indicator: 0.06 kg -> 1 unit (conservative internal benchmark)
    const marine = Math.max(1, Math.round(plasticKg / 0.06));

    const plasticToday = Math.min(3, Math.max(2, Math.round(plasticBoxes / 14)));
    const co2Today = round1(Math.min(1.4, Math.max(0.8, Number(co2) / 14)));
    const marineToday = Math.max(1, Math.round(marine / 14));

    // Home
    document.getElementById("ecoPlasticToday").textContent = plasticToday;
    document.getElementById("ecoCO2Today").textContent = co2Today;
    document.getElementById("ecoMarineToday").textContent = marineToday;

    // Track
    document.getElementById("ecoPlasticMonth").textContent = plasticBoxes;
    document.getElementById("ecoCO2Month").textContent = co2;
    document.getElementById("ecoMicroMonth").textContent = plasticKg;
    document.getElementById("ecoMarineMonth").textContent = marine;

    // Profile lifetime (mock but coherent)
    const lifePlastic = Math.max(120, plasticBoxes * 4);
    const lifeCO2 = Math.max(46, round1(Number(co2) * 4));
    const lifeMarine = Math.max(58, Math.round(marine * 4));
    document.getElementById("ecoLifePlastic").textContent = lifePlastic;
    document.getElementById("ecoLifeCO2").textContent = lifeCO2;
    document.getElementById("ecoLifeMarine").textContent = lifeMarine;
  }

  function bumpEco(meals){
    // bump monthly in small increments for demo realism
    state.eco.plasticMonth += meals;
    state.eco.co2Month += 0.4 * meals;
    recalcEco();
    syncProfile();
  }

  function money(n){
    const v = Math.round(Number(n || 0));
    return "‚Çπ" + v.toLocaleString("en-IN");
  }

  function round1(n){
    return (Math.round(Number(n||0)*10)/10).toFixed(1).replace(/\.0$/,"");
  }

  function round2(n){
    return (Math.round(Number(n||0)*100)/100)
      .toFixed(2)
      .replace(/0$/,"")
      .replace(/\.?$/,"");
  }

  // Initial renders
  renderPlans();
  renderMeals();
  syncPayment();
  syncProfile();
  recalcEco();

  // Start at onboarding
  setActive("page-onboarding");


   // ===============================
  // üìÖ PREMIUM CALENDAR CODE
  // ===============================

const openCalendarBtn = document.getElementById("openCalendar");
const calendarContainer = document.getElementById("calendarContainer");
const datePicker = document.getElementById("datePicker");
const selectedDatesDiv = document.getElementById("selectedDates");

let selectedDates = [];

// üìÖ Open/close calendar
if(openCalendarBtn){
  openCalendarBtn.addEventListener("click", () => {
    calendarContainer.style.display =
      calendarContainer.style.display === "none" ? "block" : "none";
  });
}

// ü•á Date selection logic (ONLY ONE LISTENER)
if (datePicker) {
  datePicker.addEventListener("change", () => {
    const date = datePicker.value;

    // ‚≠ê Demo mode ‚Äî allow selection even without subscription
    if (!state.subscription.active) {
      showToast("Demo mode: Premium unlocked.");
    }

    if (selectedDates.length >= 3) {
      showToast("Only 3 days allowed.");
      return;
    }

    if (selectedDates.includes(date)) return;

    selectedDates.push(date);

    selectedDatesDiv.innerHTML = "";

    selectedDates.forEach(d => {
      const pill = document.createElement("div");
      pill.className = "pill";

      // ü•á PREMIUM GOLD STYLE
      pill.style.background = "linear-gradient(135deg,#FFD700,#FFB800,#FFD700)";
      pill.style.backgroundSize = "200% 200%";
      pill.style.animation = "shine 3s linear infinite";

      pill.style.color = "#000";
      pill.style.fontWeight = "900";
      pill.style.boxShadow = "0 6px 18px rgba(255,215,0,.6)";

      pill.textContent = "‚≠ê " + d;
      selectedDatesDiv.appendChild(pill);
    });
  });
}



  // ===============================
  // ü§ñ CHATBOT LOGIC
  // ===============================

  const chatbotBtn = document.getElementById("chatbotBtn");
  const chatPanel = document.getElementById("chatPanel");
  const chatInput = document.getElementById("chatInput");
  const chatMessages = document.getElementById("chatMessages");

  if(chatbotBtn){
    chatbotBtn.addEventListener("click", () => {
      chatPanel.style.display =
        chatPanel.style.display === "none" ? "flex" : "none";
    });

    chatInput.addEventListener("keypress", function(e) {
      if (e.key === "Enter") {
        const text = chatInput.value.trim();
        if (!text) return;

        const userMsg = document.createElement("div");
        userMsg.textContent = "You: " + text;
        chatMessages.appendChild(userMsg);

        setTimeout(() => {
          const botMsg = document.createElement("div");
          botMsg.textContent = "ü§ñ I'm here to help üòä";
          chatMessages.appendChild(botMsg);
        }, 600);

        chatInput.value = "";
      }
    });
  }

document.getElementById("saveDiabeticBtn").addEventListener("click", () => {
  showToast("Diabetic preferences saved ‚úÖ");
  setActive("page-home");
});

})();

</script>
</body>
</html>
